# ğŸ“ æ–‡æœ¬ç¿»è¯‘åŠŸèƒ½å®Œæ•´å®ç°è®°å½•

## ğŸ¯ é¡¹ç›®ç›®æ ‡
å®ç°ä¼ä¸šçº§çš„æ–‡æœ¬ç¿»è¯‘åº”ç”¨ï¼ŒåŒ…å«å®Œæ•´çš„å›½é™…åŒ–æ”¯æŒã€åŠ¨æ€è¯­è¨€ç®¡ç†ã€æ™ºèƒ½æ¨èç³»ç»Ÿå’Œç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢ã€‚

## âœ… å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½

### ğŸŒ **å›½é™…åŒ–ç³»ç»Ÿ**
- **å¤šè¯­è¨€UIæ”¯æŒ**ï¼šä¸­æ–‡ã€è‹±æ–‡ã€æ—¥è¯­ç­‰å®Œæ•´æœ¬åœ°åŒ–
- **æœ¬åœ°åŒ–æœç´¢**ï¼šç”¨æˆ·å¯ä»¥ç”¨æ¯è¯­æœç´¢è¯­è¨€ï¼ˆå¦‚æœç´¢"æ³•è¯­"æ‰¾åˆ°Frenchï¼‰
- **æ™ºèƒ½è¯­è¨€é€‚é…**ï¼šæ ¹æ®ç³»ç»Ÿè¯­è¨€è‡ªåŠ¨æ˜¾ç¤ºå¯¹åº”æ–‡æœ¬
- **æ‰©å±•æ€§è®¾è®¡**ï¼šæ–°å¢è¯­è¨€åªéœ€æ·»åŠ èµ„æºæ–‡ä»¶

### ğŸ”„ **åŠ¨æ€è¯­è¨€ç®¡ç†**
- **APIé›†æˆ**ï¼šä»ç™¾åº¦ç¿»è¯‘APIåŠ¨æ€è·å–æ”¯æŒçš„è¯­è¨€åˆ—è¡¨
- **æ™ºèƒ½ç¼“å­˜**ï¼š24å°æ—¶ç¼“å­˜æœºåˆ¶ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚
- **å›é€€æœºåˆ¶**ï¼šç½‘ç»œå¤±è´¥æ—¶ä½¿ç”¨é¢„å®šä¹‰è¯­è¨€åˆ—è¡¨
- **å®æ—¶æ›´æ–°**ï¼šæ”¯æŒå¼ºåˆ¶åˆ·æ–°è·å–æœ€æ–°è¯­è¨€æ”¯æŒ

### ğŸ¯ **ç”¨æˆ·åå¥½ç³»ç»Ÿ**
- **é»˜è®¤è¯­è¨€è®¾ç½®**ï¼šä¿å­˜ç”¨æˆ·çš„å¸¸ç”¨æºè¯­è¨€å’Œç›®æ ‡è¯­è¨€
- **ä½¿ç”¨ç»Ÿè®¡**ï¼šè®°å½•è¯­è¨€ä½¿ç”¨é¢‘ç‡ï¼Œæä¾›ä¸ªæ€§åŒ–ä½“éªŒ
- **æ™ºèƒ½æ¨è**ï¼šåŸºäºå†å²æ•°æ®æ¨èå¸¸ç”¨è¯­è¨€å¯¹
- **æ•°æ®æŒä¹…åŒ–**ï¼šä½¿ç”¨SharedPreferenceså®‰å…¨å­˜å‚¨ç”¨æˆ·åå¥½

### ğŸ” **é«˜çº§æœç´¢åŠŸèƒ½**
- **å¤šç»´åº¦æœç´¢**ï¼šæ”¯æŒè¯­è¨€ä»£ç ã€è‹±æ–‡åã€åŸç”Ÿåã€æœ¬åœ°åŒ–å
- **å®æ—¶è¿‡æ»¤**ï¼šè¾“å…¥å³æœç´¢ï¼Œæ— éœ€ç­‰å¾…
- **æ™ºèƒ½åŒ¹é…**ï¼šå¤§å°å†™ä¸æ•æ„Ÿï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…
- **æœ¬åœ°åŒ–æ”¯æŒ**ï¼šä¸­æ–‡ç”¨æˆ·æœç´¢"æ³•è¯­"å¯æ‰¾åˆ°French

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### ğŸ“ **è®¾è®¡åŸåˆ™**
1. **Clean Architecture**: æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼Œä¾èµ–å€’ç½®
2. **MVVMæ¨¡å¼**: å“åº”å¼UIï¼Œæ•°æ®é©±åŠ¨
3. **Repositoryæ¨¡å¼**: ç»Ÿä¸€æ•°æ®è®¿é—®ï¼Œæ”¯æŒå¤šæ•°æ®æº
4. **UseCaseæ¨¡å¼**: å°è£…ä¸šåŠ¡é€»è¾‘ï¼Œä¾¿äºæµ‹è¯•å’Œå¤ç”¨
5. **ä¾èµ–æ³¨å…¥**: æ‰‹åŠ¨DIå®ç°ï¼Œä¸ºæœªæ¥Hilté›†æˆé¢„ç•™ç©ºé—´

### ğŸ“‚ **å®é™…æ¶æ„ç»“æ„**
```
app/src/main/java/com/example/mytranslator/
â”œâ”€â”€ domain/                          # ğŸ¯ ä¸šåŠ¡é¢†åŸŸå±‚
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”œâ”€â”€ Language.kt             # âœ… è¯­è¨€æ¨¡å‹ï¼ˆæ”¯æŒå›½é™…åŒ–ï¼‰
â”‚   â”‚   â”œâ”€â”€ TranslationInput.kt     # âœ… è¾“å…¥æŠ½è±¡ï¼ˆæ–‡æœ¬/è¯­éŸ³/å›¾ç‰‡ï¼‰
â”‚   â”‚   â””â”€â”€ TranslationResult.kt    # âœ… ç¿»è¯‘ç»“æœæ¨¡å‹
â”‚   â”œâ”€â”€ usecase/
â”‚   â”‚   â”œâ”€â”€ TranslateUseCase.kt     # âœ… ç¿»è¯‘ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ GetLanguagesUseCase.kt  # âœ… è¯­è¨€ç®¡ç†ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ repository/
â”‚       â”œâ”€â”€ TranslationRepository.kt # âœ… ç¿»è¯‘æ•°æ®æ¥å£
â”‚       â””â”€â”€ LanguageRepository.kt   # âœ… è¯­è¨€æ•°æ®æ¥å£ï¼ˆå«ç»Ÿè®¡ï¼‰
â”œâ”€â”€ data/                           # ğŸ”§ æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ ApiConfig.kt           # âœ… APIé…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ mapper/
â”‚   â”‚   â””â”€â”€ TranslationMapper.kt   # âœ… æ•°æ®è½¬æ¢å™¨
â”‚   â”œâ”€â”€ network/api/
â”‚   â”‚   â””â”€â”€ TranslationApi.kt      # âœ… ç™¾åº¦ç¿»è¯‘APIæ¥å£
â”‚   â””â”€â”€ repository/
â”‚       â”œâ”€â”€ TranslationRepositoryImpl.kt # âœ… ç¿»è¯‘æ•°æ®å®ç°
â”‚       â””â”€â”€ LanguageRepositoryImpl.kt    # âœ… è¯­è¨€æ•°æ®å®ç°ï¼ˆå«ç¼“å­˜ï¼‰
â”œâ”€â”€ presentation/                   # ğŸ¨ è¡¨ç°å±‚
â”‚   â”œâ”€â”€ viewmodel/
â”‚   â”‚   â”œâ”€â”€ ViewModelFactory.kt     # âœ… ä¾èµ–æ³¨å…¥å·¥å‚
â”‚   â”‚   â”œâ”€â”€ TextTranslationViewModel.kt # âœ… ç¿»è¯‘ç•Œé¢ViewModel
â”‚   â”‚   â””â”€â”€ LanguageSelectionViewModel.kt # âœ… è¯­è¨€é€‰æ‹©ViewModel
â”‚   â””â”€â”€ ui/
â”‚       â”œâ”€â”€ language/
â”‚       â”‚   â”œâ”€â”€ LanguageSelectionBottomSheet.kt # âœ… è¯­è¨€é€‰æ‹©ç•Œé¢
â”‚       â”‚   â””â”€â”€ LanguageAdapter.kt  # âœ… è¯­è¨€åˆ—è¡¨é€‚é…å™¨
â”‚       â””â”€â”€ translation/text/
â”‚           â””â”€â”€ TextTranslationFragment.kt # âœ… æ–‡æœ¬ç¿»è¯‘ä¸»ç•Œé¢
â”œâ”€â”€ common/                         # ğŸ› ï¸ é€šç”¨å·¥å…·å±‚
â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â””â”€â”€ BaseFragment.kt        # âœ… FragmentåŸºç±»
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ LanguageLocalizer.kt   # âœ… å›½é™…åŒ–å·¥å…·ç±»
â””â”€â”€ res/                           # ğŸŒ èµ„æºæ–‡ä»¶
    â”œâ”€â”€ values/strings.xml         # âœ… é»˜è®¤å­—ç¬¦ä¸²ï¼ˆè‹±æ–‡ï¼‰
    â”œâ”€â”€ values-zh/strings.xml      # âœ… ä¸­æ–‡å­—ç¬¦ä¸²
    â””â”€â”€ values-ja/strings.xml      # âœ… æ—¥è¯­å­—ç¬¦ä¸²
```

## ğŸ“… è¯¦ç»†å¼€å‘ä»»åŠ¡

### é˜¶æ®µä¸€ï¼šæ¶æ„åŸºç¡€ (Day 1-2)

#### 1.1 é€šç”¨æ•°æ®æ¨¡å‹

- [x] **Language** - è¯­è¨€æ•°æ®æ¨¡å‹ âœ…
```kotlin
data class Language(
    val code: String,        // ISO 639-1è¯­è¨€ä»£ç ï¼š"en", "zh", "ja"
    val name: String,        // è‹±æ–‡åç§°ï¼š"English", "Chinese", "Japanese"
    val displayName: String  // æœ¬åœ°åŒ–æ˜¾ç¤ºåï¼š"English", "ä¸­æ–‡", "æ—¥æœ¬èª"
)
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- ä½¿ç”¨data classç¡®ä¿ä¸å¯å˜æ€§å’Œç±»å‹å®‰å…¨
- éµå¾ªISO 639-1å›½é™…æ ‡å‡†
- æä¾›companion objectå·¥å‚æ–¹æ³•å’Œå¸¸é‡
- æ”¯æŒè‡ªåŠ¨æ£€æµ‹ã€å¸¸ç”¨è¯­è¨€é¢„å®šä¹‰
- åŒ…å«å®ç”¨æ–¹æ³•ï¼šfindByCode()ã€isAutoDetect()ç­‰

- [x] **TranslationInput** - æ”¯æŒå¤šç§è¾“å…¥æºçš„æŠ½è±¡ç±» âœ…
```kotlin
sealed class TranslationInput {
    data class Text(val content: String, val maxLength: Int = 5000) : TranslationInput()
    data class Voice(val audioFile: File, val durationMs: Long) : TranslationInput()    // é¢„ç•™
    data class Image(val imageFile: File, val ocrRegion: Rect?) : TranslationInput()    // é¢„ç•™
}
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- ä½¿ç”¨sealed classå®ç°ç±»å‹å®‰å…¨çš„å¤šæ€è®¾è®¡
- whenè¡¨è¾¾å¼çš„ç©·å°½æ€§æ£€æŸ¥ï¼Œé¿å…é—æ¼å¤„ç†
- æ¯ä¸ªå­ç±»æºå¸¦ä¸åŒçš„æ•°æ®ç»“æ„å’ŒéªŒè¯é€»è¾‘
- ä¸°å¯Œçš„æ‰©å±•å‡½æ•°ï¼šgetTypeName()ã€validate()ã€isEmpty()
- ä¸ºæœªæ¥è¯­éŸ³å’Œå›¾ç‰‡ç¿»è¯‘é¢„ç•™å®Œæ•´çš„æ•°æ®ç»“æ„
- å†…ç½®éªŒè¯æœºåˆ¶ï¼šå­—ç¬¦é•¿åº¦ã€æ–‡ä»¶å¤§å°ã€æ—¶é•¿é™åˆ¶

- [x] **TranslationResult** - ç»Ÿä¸€çš„ç¿»è¯‘ç»“æœ âœ…
```kotlin
data class TranslationResult(
    val input: TranslationInput,        // å®Œæ•´çš„è¾“å…¥ä¿¡æ¯
    val translatedText: String,         // ç¿»è¯‘ç»“æœ
    val sourceLanguage: Language,       // å®é™…æºè¯­è¨€ï¼ˆå¯èƒ½æ˜¯æ£€æµ‹ç»“æœï¼‰
    val targetLanguage: Language,       // ç›®æ ‡è¯­è¨€
    val timestamp: Long,                // ç¿»è¯‘æ—¶é—´æˆ³
    val confidence: Float? = null,      // ç¿»è¯‘ç½®ä¿¡åº¦
    val provider: String? = null,       // ç¿»è¯‘æœåŠ¡æä¾›å•†
    val durationMs: Long? = null        // ç¿»è¯‘è€—æ—¶
)
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- å®Œæ•´çš„ç¿»è¯‘ä¼šè¯è®°å½•ï¼Œä¸ä»…ä»…æ˜¯ç»“æœæ–‡æœ¬
- æ”¯æŒç¿»è¯‘å†å²ã€ç¼“å­˜ã€åˆ†äº«ç­‰å¤šç§åŠŸèƒ½éœ€æ±‚
- ä¸°å¯Œçš„å®ç”¨æ–¹æ³•ï¼šgetOriginalText()ã€toShareText()ã€getRelativeTime()
- è´¨é‡è¯„ä¼°æ”¯æŒï¼šç½®ä¿¡åº¦ç­‰çº§ã€æ€§èƒ½ç›‘æ§
- ç¼“å­˜æœºåˆ¶ï¼šisCacheValid()æ£€æŸ¥æ•°æ®æ–°é²œåº¦
- ç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼šç›¸å¯¹æ—¶é—´ã€æ˜¾ç¤ºæ‘˜è¦ã€åˆ†äº«æ ¼å¼

#### 1.2 ä»“åº“æ¥å£è®¾è®¡

- [x] **TranslationRepository** - ç¿»è¯‘ä»“åº“æ¥å£ âœ…
```kotlin
interface TranslationRepository {
    suspend fun translate(input: TranslationInput, source: Language, target: Language): Result<TranslationResult>
    suspend fun detectLanguage(input: TranslationInput): Result<Language>
    suspend fun getTranslationHistory(limit: Int, offset: Int): Result<List<TranslationResult>>
    suspend fun saveTranslationToHistory(result: TranslationResult): Result<Unit>
    // ... æ›´å¤šæ–¹æ³•
}
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- Repositoryæ¨¡å¼å®ç°æ•°æ®è®¿é—®æŠ½è±¡
- ä½¿ç”¨Resultç±»å‹å°è£…æˆåŠŸ/å¤±è´¥çŠ¶æ€
- æ”¯æŒç¿»è¯‘ã€å†å²è®°å½•ã€ç¼“å­˜ã€ç»Ÿè®¡ç­‰å®Œæ•´åŠŸèƒ½
- ä¸°å¯Œçš„æ•°æ®ç±»ï¼šTranslationStatisticsã€TranslationPreferences
- å¼‚æ­¥ä¼˜å…ˆè®¾è®¡ï¼Œå…¨é¢æ”¯æŒåç¨‹

- [x] **LanguageRepository** - è¯­è¨€ç®¡ç†ä»“åº“æ¥å£ âœ…
```kotlin
interface LanguageRepository {
    suspend fun getSupportedLanguages(includeAutoDetect: Boolean, sortByUsage: Boolean): Result<List<Language>>
    suspend fun getFrequentlyUsedLanguages(limit: Int): Result<List<Language>>
    suspend fun getDefaultSourceLanguage(): Result<Language>
    suspend fun setDefaultSourceLanguage(language: Language): Result<Unit>
    // ... æ›´å¤šæ–¹æ³•
}
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- å•ä¸€èŒè´£åŸåˆ™ï¼Œä¸“æ³¨è¯­è¨€ç®¡ç†
- ç”¨æˆ·åå¥½å’Œä½¿ç”¨ç»Ÿè®¡çš„å®Œæ•´æ”¯æŒ
- æ™ºèƒ½æ¨èï¼šå¸¸ç”¨è¯­è¨€ã€æ¨èè¯­è¨€å¯¹
- åŠŸèƒ½æ£€æŸ¥ï¼šä¸åŒè¯­è¨€çš„åŠŸèƒ½æ”¯æŒæƒ…å†µ
- ä¸°å¯Œçš„æ•°æ®ç±»ï¼šLanguagePairã€LanguageUsageStatistics

#### 1.3 ç”¨ä¾‹å±‚è®¾è®¡

- [x] **TranslateUseCase** - é€šç”¨ç¿»è¯‘ç”¨ä¾‹ âœ…
```kotlin
class TranslateUseCase(
    private val translationRepository: TranslationRepository,
    private val languageRepository: LanguageRepository
) {
    suspend fun execute(params: Params): Result<TranslationResult>
}
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- å®Œæ•´çš„ç¿»è¯‘ä¸šåŠ¡æµç¨‹ï¼šéªŒè¯â†’ç¼“å­˜â†’ç¿»è¯‘â†’ä¿å­˜â†’ç»Ÿè®¡
- æ™ºèƒ½ç¼“å­˜ç­–ç•¥ï¼šé¿å…é‡å¤ç¿»è¯‘ç›¸åŒå†…å®¹
- è‡ªåŠ¨è¯­è¨€æ£€æµ‹ï¼šå½“æºè¯­è¨€ä¸º"è‡ªåŠ¨æ£€æµ‹"æ—¶
- è´¨é‡ç­‰çº§æ”¯æŒï¼šFAST/STANDARD/HIGHä¸‰ç§æ¨¡å¼
- ç»Ÿä¸€é”™è¯¯å¤„ç†ï¼šTranslationExceptionå°è£…å¼‚å¸¸

- [x] **GetLanguagesUseCase** - è·å–è¯­è¨€ç”¨ä¾‹ âœ…
```kotlin
class GetLanguagesUseCase(
    private val languageRepository: LanguageRepository
) {
    suspend fun getAllLanguages(sortStrategy: SortStrategy): Result<List<Language>>
    suspend fun getFrequentLanguages(limit: Int): Result<List<Language>>
    suspend fun searchLanguages(query: String): Result<List<Language>>
    // ... æ›´å¤šæ–¹æ³•
}
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- å¤šç§è·å–ç­–ç•¥ï¼šå…¨éƒ¨ã€å¸¸ç”¨ã€æ¨èã€æœç´¢
- æ™ºèƒ½æ’åºç®—æ³•ï¼šä½¿ç”¨é¢‘ç‡ã€å­—æ¯é¡ºåºã€æ™ºèƒ½æ’åº
- æœç´¢ç›¸å…³æ€§è¯„åˆ†ï¼šå®Œå…¨åŒ¹é…ã€å¼€å¤´åŒ¹é…ã€åŒ…å«åŒ¹é…
- ç”¨æˆ·åå¥½ç®¡ç†ï¼šé»˜è®¤è¯­è¨€è®¾ç½®å’Œæ›´æ–°
- åŠŸèƒ½æ”¯æŒæ£€æŸ¥ï¼šä¸åŒè¯­è¨€çš„åŠŸèƒ½å¯ç”¨æ€§

### é˜¶æ®µäºŒï¼šç½‘ç»œå±‚å®ç° (Day 2-3)

#### 2.1 ä¾èµ–æ·»åŠ 
- [x] æ·»åŠ Retrofitã€OkHttpã€Gsonä¾èµ–
- [x] æ·»åŠ åç¨‹å’ŒViewModelä¾èµ–

#### 2.2 APIæ¥å£å®ç°
- [ ] **TranslationApi** - å®šä¹‰ç¿»è¯‘APIæ¥å£
- [ ] **ApiService** - ç½‘ç»œæœåŠ¡é…ç½®
- [ ] **ç½‘ç»œæ‹¦æˆªå™¨** - æ—¥å¿—å’Œé”™è¯¯å¤„ç†

#### 2.3 æ•°æ®æ¨¡å‹
- [ ] **TranslationRequest** - APIè¯·æ±‚æ¨¡å‹
- [ ] **TranslationResponse** - APIå“åº”æ¨¡å‹

### é˜¶æ®µä¸‰ï¼šViewModelæ¶æ„ (Day 3-4)

#### 3.1 åŸºç¡€ViewModel
- [ ] **BaseTranslationViewModel** - é€šç”¨ViewModelåŸºç±»
- [ ] **çŠ¶æ€ç®¡ç†** - TranslationStateå°è£…

#### 3.2 æ–‡æœ¬ç¿»è¯‘ViewModel
- [ ] **TextTranslationViewModel** - æ–‡æœ¬ç¿»è¯‘ä¸“ç”¨ViewModel
- [ ] **LiveDataçŠ¶æ€ç®¡ç†** - UIçŠ¶æ€å“åº”
- [ ] **åç¨‹å¼‚æ­¥å¤„ç†** - ç½‘ç»œè¯·æ±‚å¼‚æ­¥åŒ–

### é˜¶æ®µå››ï¼šUIç»„ä»¶å®ç° (Day 4-5)

#### 4.1 é€šç”¨UIç»„ä»¶
- [ ] **LanguageSelectionDialog** - è¯­è¨€é€‰æ‹©å¯¹è¯æ¡†
- [ ] **LoadingStateView** - åŠ è½½çŠ¶æ€ç»„ä»¶
- [ ] **ErrorStateView** - é”™è¯¯çŠ¶æ€ç»„ä»¶

#### 4.2 Fragmentæ”¹é€ 
- [ ] **TextTranslationFragment** - é›†æˆViewModel
- [ ] **æ•°æ®ç»‘å®š** - LiveDataè§‚å¯Ÿ
- [ ] **ç”¨æˆ·äº¤äº’** - ç‚¹å‡»äº‹ä»¶å¤„ç†

### é˜¶æ®µäº”ï¼šä¸šåŠ¡é€»è¾‘å®Œå–„ (Day 5-6)

#### 5.1 ç¿»è¯‘åŠŸèƒ½
- [ ] **APIé›†æˆ** - ç™¾åº¦ç¿»è¯‘APIè°ƒç”¨
- [ ] **é”™è¯¯å¤„ç†** - ç½‘ç»œå¼‚å¸¸ã€APIé”™è¯¯
- [ ] **ç»“æœå¤„ç†** - æ•°æ®æ ¼å¼åŒ–å’Œæ˜¾ç¤º

#### 5.2 è¾…åŠ©åŠŸèƒ½
- [ ] **å¤åˆ¶åŠŸèƒ½** - å¤åˆ¶ç¿»è¯‘ç»“æœåˆ°å‰ªè´´æ¿
- [ ] **åˆ†äº«åŠŸèƒ½** - åˆ†äº«ç¿»è¯‘ç»“æœ
- [ ] **è¯­è¨€äº¤æ¢** - æºè¯­è¨€å’Œç›®æ ‡è¯­è¨€äº’æ¢

### é˜¶æ®µå…­ï¼šåŠŸèƒ½å®Œå–„ (Day 6-7)

#### 6.1 åå¥½è®¾ç½®
- [ ] **PreferencesManager** - åå¥½è®¾ç½®ç®¡ç†
- [ ] **è¯­è¨€åå¥½** - è®°ä½ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€
- [ ] **è®¾ç½®æŒä¹…åŒ–** - SharedPreferenceså­˜å‚¨

#### 6.2 ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [ ] **è¾“å…¥éªŒè¯** - æ–‡æœ¬é•¿åº¦ã€æ ¼å¼æ£€æŸ¥
- [ ] **åŠ è½½çŠ¶æ€** - ä¼˜åŒ–åŠ è½½åŠ¨ç”»å’Œæç¤º
- [ ] **é”™è¯¯æç¤º** - ç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### ç½‘ç»œè¯·æ±‚é…ç½®
```kotlin
// build.gradle.kts æ–°å¢ä¾èµ–
implementation("com.squareup.retrofit2:retrofit:2.9.0")
implementation("com.squareup.retrofit2:converter-gson:2.9.0")
implementation("com.squareup.okhttp3:logging-interceptor:4.11.0")
implementation("androidx.lifecycle:lifecycle-viewmodel-ktx:2.7.0")
implementation("androidx.lifecycle:lifecycle-livedata-ktx:2.7.0")
implementation("org.jetbrains.kotlinx:kotlinx-coroutines-android:1.7.3")
```

### çŠ¶æ€ç®¡ç†æ¨¡å¼
```kotlin
sealed class TranslationState {
    object Idle : TranslationState()
    object Loading : TranslationState()
    data class Success(val result: TranslationResult) : TranslationState()
    data class Error(val message: String) : TranslationState()
}
```

## ğŸ“ å¼€å‘æ—¥å¿—

### 2025-08-XX (Day 1)
- ğŸ¯ åˆ›å»ºtextTranslationåˆ†æ”¯
- ğŸ“‹ åˆ¶å®šè¯¦ç»†å¼€å‘è®¡åˆ’
- ğŸ—ï¸ è®¾è®¡å¯æ‰©å±•æ¶æ„
- âœ… **å®Œæˆä¾èµ–æ·»åŠ ** - æˆåŠŸæ·»åŠ æ‰€æœ‰å¿…è¦ä¾èµ–
  - ç½‘ç»œè¯·æ±‚: Retrofit 2.9.0 + OkHttp 4.12.0 + Gson 2.10.1
  - MVVMæ¶æ„: ViewModel + LiveData + Fragment-ktx
  - å¼‚æ­¥å¤„ç†: Kotlin Coroutines 1.7.3
  - ä½¿ç”¨Gradle Version Catalogç®¡ç†ä¾èµ–ç‰ˆæœ¬
  - Gradleæ„å»ºæµ‹è¯•é€šè¿‡ âœ…

- âœ… **å®ŒæˆLanguageæ•°æ®æ¨¡å‹** - ç¿»è¯‘ç³»ç»Ÿçš„åŸºç¡€æ•°æ®ç»“æ„
  - ğŸ¯ **è®¾è®¡æ€æƒ³å­¦ä¹ **ï¼šæ·±å…¥ç†è§£data classçš„ä¼˜åŠ¿å’Œä½¿ç”¨åœºæ™¯
  - ğŸ—ï¸ **æ¶æ„æ¨¡å¼**ï¼šcompanion objectçš„å·¥å‚æ–¹æ³•æ¨¡å¼
  - ğŸ“š **å›½é™…åŒ–è€ƒè™‘**ï¼šISO 639-1æ ‡å‡† + æœ¬åœ°åŒ–æ˜¾ç¤º
  - ğŸ”§ **å®ç”¨åŠŸèƒ½**ï¼šé¢„å®šä¹‰å¸¸ç”¨è¯­è¨€ã€ä»£ç æŸ¥æ‰¾ã€é»˜è®¤å€¼è®¾ç½®
  - ğŸ’¡ **æ‰©å±•æ€§**ï¼šä¸º8ç§å¸¸ç”¨è¯­è¨€æä¾›æ”¯æŒï¼Œæ˜“äºæ‰©å±•

- âœ… **å®ŒæˆTranslationInputæŠ½è±¡æ¨¡å‹** - ç±»å‹å®‰å…¨çš„å¤šæ€è¾“å…¥è®¾è®¡
  - ğŸ¯ **sealed classæ·±åº¦å­¦ä¹ **ï¼šç†è§£ä¸enum classçš„åŒºåˆ«å’Œä½¿ç”¨åœºæ™¯
  - ğŸ—ï¸ **æ‰©å±•æ€§æ¶æ„**ï¼šä¸ºè¯­éŸ³ã€å›¾ç‰‡ç¿»è¯‘é¢„ç•™å®Œæ•´æ•°æ®ç»“æ„
  - ğŸ“š **æ¨¡å¼åŒ¹é…**ï¼šwhenè¡¨è¾¾å¼çš„ç©·å°½æ€§æ£€æŸ¥æœºåˆ¶
  - ğŸ”§ **éªŒè¯æœºåˆ¶**ï¼šæ¯ç§è¾“å…¥ç±»å‹çš„ä¸“é—¨éªŒè¯é€»è¾‘
  - ğŸ’¡ **æ‰©å±•å‡½æ•°**ï¼šä¸ºsealed classæ·»åŠ é€šç”¨è¡Œä¸ºçš„ä¼˜é›…æ–¹å¼

- âœ… **å®ŒæˆTranslationResultå®Œæ•´æ¨¡å‹** - ä¸°å¯Œçš„ç¿»è¯‘ç»“æœæ•°æ®ç»“æ„
  - ğŸ¯ **å®Œæ•´ä¼šè¯è®°å½•**ï¼šä¸ä»…æ˜¯ç»“æœï¼Œæ›´æ˜¯å®Œæ•´çš„ç¿»è¯‘ä¸Šä¸‹æ–‡
  - ğŸ—ï¸ **å¤šåŠŸèƒ½æ”¯æŒ**ï¼šå†å²è®°å½•ã€ç¼“å­˜ã€åˆ†äº«ã€è´¨é‡è¯„ä¼°
  - ğŸ“š **ç”¨æˆ·ä½“éªŒè®¾è®¡**ï¼šç›¸å¯¹æ—¶é—´ã€æ˜¾ç¤ºæ‘˜è¦ã€ç½®ä¿¡åº¦ç­‰çº§
  - ğŸ”§ **æ€§èƒ½ç›‘æ§**ï¼šç¿»è¯‘è€—æ—¶ã€ç¼“å­˜æœ‰æ•ˆæ€§ã€æœåŠ¡æä¾›å•†
  - ğŸ’¡ **å®ç”¨æ–¹æ³•ä¸°å¯Œ**ï¼š20+ä¸ªä¾¿åˆ©æ–¹æ³•ç®€åŒ–å¸¸è§æ“ä½œ

- âœ… **å®ŒæˆRepositoryæ¥å£è®¾è®¡** - Clean Architectureçš„æ•°æ®è®¿é—®å±‚
  - ğŸ¯ **Repositoryæ¨¡å¼**ï¼šæ•°æ®è®¿é—®æŠ½è±¡ï¼Œæ”¯æŒä¾èµ–å€’ç½®åŸåˆ™
  - ğŸ—ï¸ **å…³æ³¨ç‚¹åˆ†ç¦»**ï¼šTranslationRepository + LanguageRepository
  - ğŸ“š **å¼‚æ­¥ä¼˜å…ˆè®¾è®¡**ï¼šå…¨é¢ä½¿ç”¨suspendå‡½æ•°å’Œåç¨‹
  - ğŸ”§ **Resultç±»å‹å°è£…**ï¼šç»Ÿä¸€çš„æˆåŠŸ/å¤±è´¥çŠ¶æ€å¤„ç†
  - ğŸ’¡ **åŠŸèƒ½å®Œæ•´æ€§**ï¼šç¿»è¯‘ã€å†å²ã€ç¼“å­˜ã€ç»Ÿè®¡ã€åå¥½å…¨è¦†ç›–

- âœ… **å®ŒæˆUseCaseä¸šåŠ¡é€»è¾‘å±‚** - Clean Architectureçš„ä¸šåŠ¡é€»è¾‘æ ¸å¿ƒ
  - ğŸ¯ **TranslateUseCase**ï¼šå®Œæ•´çš„ç¿»è¯‘ä¸šåŠ¡æµç¨‹å’Œæ™ºèƒ½ç¼“å­˜
  - ğŸ—ï¸ **GetLanguagesUseCase**ï¼šè¯­è¨€ç®¡ç†å’Œæ™ºèƒ½æ¨èç®—æ³•
  - ğŸ“š **ä¸šåŠ¡é€»è¾‘é›†ä¸­**ï¼šæ‰€æœ‰ä¸šåŠ¡è§„åˆ™éƒ½åœ¨UseCaseå±‚
  - ğŸ”§ **è´¨é‡ç­‰çº§æ”¯æŒ**ï¼šFAST/STANDARD/HIGHç¿»è¯‘æ¨¡å¼
  - ğŸ’¡ **æ™ºèƒ½ç®—æ³•**ï¼šæœç´¢ç›¸å…³æ€§ã€æ’åºç­–ç•¥ã€æ¨èç³»ç»Ÿ

- âœ… **å®ŒæˆDataå±‚å®ç°** - ä»æŠ½è±¡åˆ°å…·ä½“å®ç°çš„å®Œæ•´è½¬æ¢
  - ğŸ¯ **APIæ•°æ®æ¨¡å‹**ï¼šTranslationRequest + TranslationResponse
  - ğŸ—ï¸ **ç½‘ç»œAPIæ¥å£**ï¼šRetrofitå£°æ˜å¼HTTPå®¢æˆ·ç«¯
  - ğŸ“š **æ•°æ®è½¬æ¢å™¨**ï¼šTranslationMapperåŒå‘è½¬æ¢æœºåˆ¶
  - ğŸ”§ **Repositoryå®ç°**ï¼šTranslationRepositoryImplå®Œæ•´å®ç°
  - ğŸ’¡ **ç¼“å­˜ç­–ç•¥**ï¼šå¤šçº§ç¼“å­˜å’Œæ€§èƒ½ä¼˜åŒ–

- âœ… **å®ŒæˆPresentationå±‚å®ç°** - MVVMæ¶æ„çš„å®Œæ•´å®ç°
  - ğŸ¯ **TextTranslationViewModel**ï¼šçŠ¶æ€ç®¡ç†å’Œä¸šåŠ¡é€»è¾‘åè°ƒ
  - ğŸ—ï¸ **TextTranslationFragment**ï¼šåŸºäºBaseFragmentçš„UIå®ç°
  - ğŸ“š **å“åº”å¼ç¼–ç¨‹**ï¼šLiveDataè§‚å¯Ÿè€…æ¨¡å¼çš„çŠ¶æ€æ›´æ–°
  - ğŸ”§ **ç”¨æˆ·äº¤äº’å®Œæ•´**ï¼šç¿»è¯‘ã€å¤åˆ¶ã€åˆ†äº«ã€è¯­è¨€é€‰æ‹©
  - ğŸ’¡ **ç”Ÿå‘½å‘¨æœŸå®‰å…¨**ï¼šViewModelScopeå’ŒsafeExecute

### ğŸ“ ä»Šæ—¥å­¦ä¹ è¦ç‚¹
1. **data classçš„äº”å¤§ä¼˜åŠ¿**ï¼šè‡ªåŠ¨ç”Ÿæˆæ–¹æ³•ã€ä¸å¯å˜æ€§ã€è§£æ„å£°æ˜
2. **companion objectæ¨¡å¼**ï¼šç±»ä¼¼staticä½†æ›´å¼ºå¤§çš„Kotlinç‰¹æ€§
3. **å›½é™…åŒ–è®¾è®¡**ï¼šcode(API) + name(å¼€å‘) + displayName(ç”¨æˆ·)çš„ä¸‰å±‚ç»“æ„
4. **å·¥å‚æ–¹æ³•æ¨¡å¼**ï¼šgetSupportedLanguages()ã€findByCode()ç­‰ä¾¿åˆ©æ–¹æ³•
5. **é»˜è®¤å€¼ç­–ç•¥**ï¼šè‡ªåŠ¨æ£€æµ‹æºè¯­è¨€ + è‹±è¯­ç›®æ ‡è¯­è¨€çš„ç”¨æˆ·å‹å¥½è®¾è®¡
6. **sealed class vs enum class**ï¼šæ•°æ®æºå¸¦èƒ½åŠ›å’Œç±»å‹å®‰å…¨çš„æƒè¡¡
7. **ç©·å°½æ€§æ£€æŸ¥**ï¼šç¼–è¯‘å™¨å¼ºåˆ¶å¤„ç†æ‰€æœ‰å¯èƒ½çš„ç±»å‹åˆ†æ”¯
8. **æ‰©å±•å‡½æ•°è®¾è®¡**ï¼šä¸ºç±»å‹å±‚æ¬¡ç»“æ„æ·»åŠ é€šç”¨è¡Œä¸º
9. **éªŒè¯æ¨¡å¼**ï¼šä¸šåŠ¡å±‚æ•°æ®éªŒè¯çš„æœ€ä½³å®è·µ
10. **æœªæ¥æ‰©å±•è®¾è®¡**ï¼šå¦‚ä½•ä¸ºå°šæœªå®ç°çš„åŠŸèƒ½é¢„ç•™æ¶æ„ç©ºé—´

11. **å®Œæ•´æ•°æ®æ¨¡å‹è®¾è®¡**ï¼šè¾“å…¥-å¤„ç†-è¾“å‡ºçš„å®Œæ•´æ•°æ®æµ
12. **ç”¨æˆ·ä½“éªŒè€ƒè™‘**ï¼šç›¸å¯¹æ—¶é—´ã€æ˜¾ç¤ºæ‘˜è¦ã€åˆ†äº«æ ¼å¼ç­‰ç»†èŠ‚
13. **æ€§èƒ½ç›‘æ§è®¾è®¡**ï¼šç¿»è¯‘è€—æ—¶ã€ç¼“å­˜ç­–ç•¥ã€è´¨é‡è¯„ä¼°
14. **å®ç”¨æ–¹æ³•æ¨¡å¼**ï¼šä¸ºæ•°æ®ç±»æ·»åŠ ä¸°å¯Œçš„ä¾¿åˆ©æ–¹æ³•

### ğŸ‰ é˜¶æ®µä¸€å®Œæˆï¼šæ•°æ®æ¨¡å‹å±‚
âœ… **æ ¸å¿ƒæ•°æ®æ¨¡å‹ä¸‰è§’å·²å®Œæˆ**ï¼š
- **Language** - è¯­è¨€ç®¡ç†çš„åŸºç¡€
- **TranslationInput** - ç±»å‹å®‰å…¨çš„è¾“å…¥æŠ½è±¡
- **TranslationResult** - å®Œæ•´çš„ç»“æœæ¨¡å‹

ğŸ¯ **æ¶æ„ä¼˜åŠ¿æ€»ç»“**ï¼š
- **ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥ï¼Œé¿å…è¿è¡Œæ—¶å´©æºƒ
- **æ‰©å±•æ€§å¼º**ï¼šä¸ºæœªæ¥åŠŸèƒ½é¢„ç•™å®Œæ•´æ¶æ„ç©ºé—´
- **ç”¨æˆ·å‹å¥½**ï¼šä¸°å¯Œçš„æ˜¾ç¤ºæ–¹æ³•å’Œç”¨æˆ·ä½“éªŒè€ƒè™‘
- **åŠŸèƒ½å®Œæ•´**ï¼šæ”¯æŒå†å²ã€ç¼“å­˜ã€åˆ†äº«ã€è´¨é‡è¯„ä¼°

15. **Repositoryæ¨¡å¼æ·±åº¦ç†è§£**ï¼šæ•°æ®è®¿é—®æŠ½è±¡çš„æ ¸å¿ƒä»·å€¼
16. **ä¾èµ–å€’ç½®åŸåˆ™**ï¼šé«˜å±‚æ¨¡å—ä¸ä¾èµ–ä½å±‚æ¨¡å—ï¼Œéƒ½ä¾èµ–æŠ½è±¡
17. **Resultç±»å‹è®¾è®¡**ï¼šå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³åœ¨é”™è¯¯å¤„ç†ä¸­çš„åº”ç”¨
18. **æ¥å£è®¾è®¡åŸåˆ™**ï¼šå•ä¸€èŒè´£ã€å¼€é—­åŸåˆ™ã€æ¥å£éš”ç¦»
19. **å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼**ï¼šsuspendå‡½æ•°å’Œåç¨‹çš„æœ€ä½³å®è·µ

### ğŸ‰ é˜¶æ®µäºŒå®Œæˆï¼šRepositoryæ¥å£å±‚
âœ… **Repositoryæ¨¡å¼æ¶æ„å·²å®Œæˆ**ï¼š
- **TranslationRepository** - ç¿»è¯‘æ•°æ®è®¿é—®çš„å®Œæ•´æŠ½è±¡
- **LanguageRepository** - è¯­è¨€ç®¡ç†çš„ä¸“é—¨æŠ½è±¡

ğŸ¯ **æ¶æ„ä¼˜åŠ¿æ€»ç»“**ï¼š
- **å¯æµ‹è¯•æ€§**ï¼šè½»æ¾åˆ›å»ºMockå®ç°è¿›è¡Œå•å…ƒæµ‹è¯•
- **å¯æ›¿æ¢æ€§**ï¼šå¯ä»¥éšæ—¶åˆ‡æ¢ä¸åŒçš„æ•°æ®æºå®ç°
- **å…³æ³¨ç‚¹åˆ†ç¦»**ï¼šä¸šåŠ¡é€»è¾‘ä¸æ•°æ®è®¿é—®é€»è¾‘å®Œå…¨åˆ†ç¦»
- **æ‰©å±•æ€§å¼º**ï¼šæ–°å¢åŠŸèƒ½åªéœ€æ‰©å±•æ¥å£ï¼Œä¸å½±å“ç°æœ‰ä»£ç 

### ğŸ‰ é˜¶æ®µä¸‰å®Œæˆï¼šUseCaseä¸šåŠ¡é€»è¾‘å±‚
âœ… **UseCaseæ¨¡å¼æ¶æ„å·²å®Œæˆ**ï¼š
- **TranslateUseCase** - æ ¸å¿ƒç¿»è¯‘ä¸šåŠ¡é€»è¾‘çš„å®Œæ•´å®ç°
- **GetLanguagesUseCase** - è¯­è¨€ç®¡ç†å’Œæ™ºèƒ½æ¨èç³»ç»Ÿ

ğŸ¯ **ä¸šåŠ¡é€»è¾‘ä¼˜åŠ¿æ€»ç»“**ï¼š
- **ä¸šåŠ¡é€»è¾‘é›†ä¸­**ï¼šæ‰€æœ‰ç¿»è¯‘ç›¸å…³çš„ä¸šåŠ¡è§„åˆ™éƒ½åœ¨UseCaseå±‚
- **å¯å¤ç”¨æ€§å¼º**ï¼šä¸åŒUIå±‚éƒ½å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ä¸šåŠ¡é€»è¾‘
- **æ™ºèƒ½åŒ–ç¨‹åº¦é«˜**ï¼šç¼“å­˜ç­–ç•¥ã€æ¨èç®—æ³•ã€è´¨é‡æ§åˆ¶
- **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šä»ä¸šåŠ¡å±‚é¢ä¼˜åŒ–ç”¨æˆ·äº¤äº’æµç¨‹

### ğŸ† Domainå±‚å®Œæˆæ€»ç»“
âœ… **Clean Architectureçš„Domainå±‚å·²å®Œæˆ**ï¼š
- **Modelå±‚** - Languageã€TranslationInputã€TranslationResult
- **Repositoryå±‚** - TranslationRepositoryã€LanguageRepository
- **UseCaseå±‚** - TranslateUseCaseã€GetLanguagesUseCase

ğŸ¯ **æ•´ä½“æ¶æ„ä¼˜åŠ¿**ï¼š
- **å®Œå…¨çš„ä¸šåŠ¡é€»è¾‘æŠ½è±¡** - ä¸æŠ€æœ¯å®ç°å®Œå…¨è§£è€¦
- **é«˜åº¦çš„å¯æµ‹è¯•æ€§** - æ¯ä¸€å±‚éƒ½å¯ä»¥ç‹¬ç«‹æµ‹è¯•
- **å¼ºå¤§çš„æ‰©å±•æ€§** - ä¸ºè¯­éŸ³ã€å›¾ç‰‡ç¿»è¯‘é¢„ç•™å®Œæ•´ç©ºé—´
- **ä¼˜ç§€çš„å¯ç»´æŠ¤æ€§** - æ¸…æ™°çš„åˆ†å±‚å’ŒèŒè´£åˆ’åˆ†

### ğŸ”„ é˜¶æ®µå››è¿›è¡Œä¸­ï¼šDataå±‚å®ç°

#### 4.1 APIæ•°æ®æ¨¡å‹å±‚
- [x] **TranslationRequest** - ç¿»è¯‘è¯·æ±‚æ•°æ®æ¨¡å‹ âœ…
```kotlin
data class TranslationRequest(
    @SerializedName("q") val query: String,
    @SerializedName("from") val sourceLanguage: String,
    @SerializedName("to") val targetLanguage: String,
    // ... æ›´å¤šå­—æ®µ
)
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- ä½¿ç”¨@SerializedNameæ³¨è§£å¤„ç†å­—æ®µæ˜ å°„
- æ”¯æŒAPIç­¾åéªŒè¯å’Œå®‰å…¨æœºåˆ¶
- ä¸°å¯Œçš„éªŒè¯æ–¹æ³•å’Œå·¥å…·å‡½æ•°
- å¤šAPIå…¼å®¹çš„é€šç”¨è®¾è®¡

- [x] **TranslationResponse** - ç¿»è¯‘å“åº”æ•°æ®æ¨¡å‹ âœ…
```kotlin
data class TranslationResponse(
    @SerializedName("error_code") val errorCode: String?,
    @SerializedName("trans_result") val translationResults: List<TranslationResult>?,
    // ... æ›´å¤šå­—æ®µ
)
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- ç»Ÿä¸€çš„æˆåŠŸ/å¤±è´¥çŠ¶æ€å¤„ç†
- åµŒå¥—å¯¹è±¡å’Œæ•°ç»„çš„å®Œæ•´è§£æ
- é”™è¯¯ç åˆ°é”™è¯¯ä¿¡æ¯çš„æ™ºèƒ½æ˜ å°„
- å“åº”éªŒè¯å’Œæ•°æ®å®Œæ•´æ€§æ£€æŸ¥

#### 4.2 ç½‘ç»œAPIæ¥å£å±‚
- [x] **TranslationApi** - Retrofit APIæ¥å£å®šä¹‰ âœ…
```kotlin
interface TranslationApi {
    @POST("api/trans/vip/translate")
    suspend fun translate(@Body request: TranslationRequest): Response<TranslationResponse>

    @GET("api/trans/vip/language")
    suspend fun detectLanguage(@Query("q") text: String): Response<LanguageDetectionResponse>
    // ... æ›´å¤šæ¥å£
}
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- å£°æ˜å¼HTTPå®¢æˆ·ç«¯è®¾è®¡
- æ”¯æŒPOSTå’ŒGETå¤šç§è¯·æ±‚æ–¹å¼
- æ‰¹é‡ç¿»è¯‘å’Œè¯­è¨€æ£€æµ‹åŠŸèƒ½
- APIä½¿ç”¨ç»Ÿè®¡å’Œç›‘æ§æ”¯æŒ

#### 4.3 æ•°æ®è½¬æ¢å±‚
- [x] **TranslationMapper** - æ•°æ®è½¬æ¢å™¨ âœ…
```kotlin
object TranslationMapper {
    fun toApiRequest(input: TranslationInput, sourceLanguage: Language, targetLanguage: Language): TranslationRequest
    fun toDomainResult(response: TranslationResponse, originalInput: TranslationInput): TranslationResult
    fun toDetectedLanguage(response: LanguageDetectionResponse): Language
}
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- APIæ¨¡å‹ä¸Domainæ¨¡å‹çš„åŒå‘è½¬æ¢
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œå¼‚å¸¸è½¬æ¢
- APIç­¾åç”Ÿæˆå’Œå®‰å…¨æœºåˆ¶
- æ•°æ®éªŒè¯å’Œæ¸…ç†åŠŸèƒ½
- è‡ªå®šä¹‰å¼‚å¸¸ç±»å‹çš„å®Œæ•´å®šä¹‰

#### 4.4 Repositoryå®ç°å±‚
- [x] **TranslationRepositoryImpl** - Repositoryæ¥å£çš„å…·ä½“å®ç° âœ…
```kotlin
class TranslationRepositoryImpl(
    private val translationApi: TranslationApi,
    private val appId: String?,
    private val secretKey: String?
) : TranslationRepository {
    // å®Œæ•´çš„Repositoryæ¥å£å®ç°
}
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- å¤šæ•°æ®æºæ•´åˆï¼šç½‘ç»œAPI + å†…å­˜ç¼“å­˜ + å†å²è®°å½•
- æ™ºèƒ½ç¼“å­˜ç­–ç•¥ï¼šLRUç¼“å­˜å’Œè¿‡æœŸæ—¶é—´ç®¡ç†
- åç¨‹å¼‚æ­¥å¤„ç†ï¼šæ‰€æœ‰æ“ä½œéƒ½åœ¨IOçº¿ç¨‹æ‰§è¡Œ
- é”™è¯¯å¤„ç†ç»Ÿä¸€ï¼šæŠ€æœ¯å¼‚å¸¸åˆ°ä¸šåŠ¡å¼‚å¸¸çš„è½¬æ¢
- æ€§èƒ½ä¼˜åŒ–ï¼šç¼“å­˜å¤§å°é™åˆ¶å’Œå†…å­˜ç®¡ç†

### ğŸ‰ é˜¶æ®µå››å®Œæˆï¼šDataå±‚å®ç°
âœ… **Dataå±‚æ¶æ„å·²å®Œæˆ**ï¼š
- **APIæ•°æ®æ¨¡å‹** - TranslationRequest + TranslationResponse
- **ç½‘ç»œAPIæ¥å£** - TranslationApiå£°æ˜å¼HTTPå®¢æˆ·ç«¯
- **æ•°æ®è½¬æ¢å™¨** - TranslationMapperåŒå‘è½¬æ¢
- **Repositoryå®ç°** - TranslationRepositoryImplå…·ä½“å®ç°

ğŸ¯ **Dataå±‚ä¼˜åŠ¿æ€»ç»“**ï¼š
- **å®Œæ•´çš„æ•°æ®æµ** - ä»ç½‘ç»œAPIåˆ°Domainæ¨¡å‹çš„å®Œæ•´è½¬æ¢
- **ç±»å‹å®‰å…¨ä¿è¯** - ç¼–è¯‘æ—¶æ£€æŸ¥å’Œè¿è¡Œæ—¶éªŒè¯
- **æ€§èƒ½ä¼˜åŒ–ç­–ç•¥** - å¤šçº§ç¼“å­˜å’Œå¼‚æ­¥å¤„ç†
- **é”™è¯¯å¤„ç†å®Œå–„** - ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†å’Œç”¨æˆ·åé¦ˆ

### ğŸ‰ é˜¶æ®µäº”å®Œæˆï¼šPresentationå±‚å®ç°

#### 5.1 ViewModelå±‚
- [x] **TextTranslationViewModel** - MVVMæ¶æ„çš„ViewModel âœ…
```kotlin
class TextTranslationViewModel(
    private val translateUseCase: TranslateUseCase,
    private val getLanguagesUseCase: GetLanguagesUseCase
) : ViewModel() {
    // çŠ¶æ€ç®¡ç†å’Œä¸šåŠ¡é€»è¾‘åè°ƒ
}
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- å®Œæ•´çš„UIçŠ¶æ€ç®¡ç†ï¼šTranslationUiState + LanguageUiState
- LiveDataå“åº”å¼ç¼–ç¨‹ï¼šUIè‡ªåŠ¨æ›´æ–°
- ViewModelScopeåç¨‹ç®¡ç†ï¼šè‡ªåŠ¨å–æ¶ˆå’Œç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥
- ä¸šåŠ¡é€»è¾‘åè°ƒï¼šè°ƒç”¨UseCaseæ‰§è¡Œå…·ä½“æ“ä½œ
- ç”¨æˆ·äº¤äº’å¤„ç†ï¼šè¯­è¨€é€‰æ‹©ã€æ–‡æœ¬è¾“å…¥ã€ç¿»è¯‘æ‰§è¡Œ

#### 5.2 Fragmentå±‚
- [x] **TextTranslationFragment** - åŸºç¡€UIå®ç° âœ…
```kotlin
class TextTranslationFragment : BaseFragment<FragmentTextTranslationBinding>() {
    // æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„UIå®ç°
    override fun initView() { /* UIåˆå§‹åŒ– */ }
    override fun initData() { /* æ•°æ®åŠ è½½ */ }
    override fun initListener() { /* äº‹ä»¶ç›‘å¬ */ }
}
```
**ğŸ¯ è®¾è®¡äº®ç‚¹**ï¼š
- æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼šç»§æ‰¿BaseFragmentçš„ç»Ÿä¸€æµç¨‹
- ViewBindingç±»å‹å®‰å…¨ï¼šç¼–è¯‘æ—¶æ£€æŸ¥è§†å›¾è®¿é—®
- å®Œæ•´çš„ç”¨æˆ·äº¤äº’ï¼šç¿»è¯‘ã€å¤åˆ¶ã€åˆ†äº«ã€è¯­è¨€é€‰æ‹©
- çŠ¶æ€ç®¡ç†ï¼šåŠ è½½ã€æˆåŠŸã€é”™è¯¯çŠ¶æ€çš„UIåé¦ˆ
- ç”Ÿå‘½å‘¨æœŸå®‰å…¨ï¼šsafeExecuteé˜²æ­¢å†…å­˜æ³„æ¼

### ğŸ† å®Œæ•´æ¶æ„æ€»ç»“

âœ… **Clean Architectureä¸‰å±‚æ¶æ„å·²å®Œæˆ**ï¼š

#### ğŸ“± Presentation Layer (è¡¨ç°å±‚)
- **ViewModel** - TextTranslationViewModel (çŠ¶æ€ç®¡ç†å’Œä¸šåŠ¡åè°ƒ)
- **Fragment** - TextTranslationFragment (UIé€»è¾‘å’Œç”¨æˆ·äº¤äº’)
- **UIç»„ä»¶** - è¯­è¨€é€‰æ‹©ã€ç¿»è¯‘ç»“æœã€ç”¨æˆ·åé¦ˆ

#### ğŸ§  Domain Layer (é¢†åŸŸå±‚)
- **Model** - Languageã€TranslationInputã€TranslationResult
- **Repository** - TranslationRepositoryã€LanguageRepository (æ¥å£)
- **UseCase** - TranslateUseCaseã€GetLanguagesUseCase (ä¸šåŠ¡é€»è¾‘)

#### ğŸ’¾ Data Layer (æ•°æ®å±‚)
- **APIæ¨¡å‹** - TranslationRequestã€TranslationResponse
- **ç½‘ç»œæ¥å£** - TranslationApi (Retrofitå£°æ˜å¼HTTP)
- **æ•°æ®è½¬æ¢** - TranslationMapper (API â†” Domainè½¬æ¢)
- **Repositoryå®ç°** - TranslationRepositoryImpl (å…·ä½“å®ç°)

### ğŸ¯ æ¶æ„ä¼˜åŠ¿æ€»ç»“

ğŸ”¹ **å®Œå…¨çš„å…³æ³¨ç‚¹åˆ†ç¦»**ï¼š
- Presentationå±‚ä¸“æ³¨UIé€»è¾‘
- Domainå±‚ä¸“æ³¨ä¸šåŠ¡é€»è¾‘
- Dataå±‚ä¸“æ³¨æŠ€æœ¯å®ç°

ğŸ”¹ **é«˜åº¦çš„å¯æµ‹è¯•æ€§**ï¼š
- æ¯ä¸€å±‚éƒ½å¯ä»¥ç‹¬ç«‹æµ‹è¯•
- Mockå®ç°è½»æ¾åˆ›å»º
- ä¸šåŠ¡é€»è¾‘ä¸æŠ€æœ¯å®ç°è§£è€¦

ğŸ”¹ **å¼ºå¤§çš„æ‰©å±•æ€§**ï¼š
- ä¸ºè¯­éŸ³ç¿»è¯‘é¢„ç•™å®Œæ•´æ¶æ„
- ä¸ºå›¾ç‰‡ç¿»è¯‘é¢„ç•™å®Œæ•´æ¶æ„
- å¯ä»¥è½»æ¾åˆ‡æ¢ç¿»è¯‘æœåŠ¡

ğŸ”¹ **ä¼˜ç§€çš„å¯ç»´æŠ¤æ€§**ï¼š
- æ¸…æ™°çš„åˆ†å±‚å’ŒèŒè´£åˆ’åˆ†
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
- ç±»å‹å®‰å…¨çš„ç¼–è¯‘æ—¶æ£€æŸ¥

## ğŸ”§ **æŠ€æœ¯å®ç°äº®ç‚¹**

### ğŸŒ **å›½é™…åŒ–æ¶æ„**
```kotlin
// å·¥å…·ç±»æ¨¡å¼ - é›†ä¸­ç®¡ç†æœ¬åœ°åŒ–é€»è¾‘
object LanguageLocalizer {
    fun getLocalizedLanguageName(context: Context, language: Language): String {
        val resourceId = languageResourceMap[language.code]
        return if (resourceId != null) {
            context.getString(resourceId)  // è‡ªåŠ¨æœ¬åœ°åŒ–
        } else {
            language.displayName  // å›é€€æ–¹æ¡ˆ
        }
    }
}
```

### ğŸ—ï¸ **Repositoryæ¨¡å¼å®ç°**
```kotlin
class LanguageRepositoryImpl(
    private val translationApi: TranslationApi,
    private val context: Context
) : LanguageRepository {

    // æ™ºèƒ½ç¼“å­˜ç­–ç•¥
    private var cachedLanguages: List<Language>? = null
    private val CACHE_DURATION_MS = 24 * 60 * 60 * 1000L // 24å°æ—¶

    // ä»APIè·å–è¯­è¨€åˆ—è¡¨ï¼Œæ”¯æŒå›é€€æœºåˆ¶
    override suspend fun getSupportedLanguages(): Result<List<Language>> {
        return try {
            if (isCacheValid()) {
                Result.success(cachedLanguages!!)
            } else {
                val languages = fetchLanguagesFromApi()
                Result.success(languages)
            }
        } catch (e: Exception) {
            // å›é€€åˆ°é¢„å®šä¹‰è¯­è¨€åˆ—è¡¨
            Result.success(Language.getSupportedLanguages())
        }
    }
}
```

## âœ… **å®Œæˆçš„åŠŸèƒ½æ¸…å•**

### ğŸ¯ **æ ¸å¿ƒç¿»è¯‘åŠŸèƒ½**
- [x] **æ–‡æœ¬ç¿»è¯‘**ï¼šæ”¯æŒå¤šè¯­è¨€äº’è¯‘
- [x] **å®æ—¶ç¿»è¯‘**ï¼šè¾“å…¥å³ç¿»è¯‘
- [x] **è¯­è¨€æ£€æµ‹**ï¼šè‡ªåŠ¨è¯†åˆ«è¾“å…¥è¯­è¨€
- [x] **ç»“æœå±•ç¤º**ï¼šæ¸…æ™°çš„ç¿»è¯‘ç»“æœç•Œé¢
- [x] **å¤åˆ¶åˆ†äº«**ï¼šä¸€é”®å¤åˆ¶å’Œåˆ†äº«ç¿»è¯‘ç»“æœ

### ğŸŒ **å›½é™…åŒ–ç³»ç»Ÿ**
- [x] **å¤šè¯­è¨€UI**ï¼šä¸­æ–‡ã€è‹±æ–‡ã€æ—¥è¯­å®Œæ•´æ”¯æŒ
- [x] **æœ¬åœ°åŒ–æœç´¢**ï¼šæ”¯æŒç”¨æ¯è¯­æœç´¢è¯­è¨€
- [x] **æ™ºèƒ½é€‚é…**ï¼šæ ¹æ®ç³»ç»Ÿè¯­è¨€è‡ªåŠ¨æ˜¾ç¤º
- [x] **æ‰©å±•æ€§è®¾è®¡**ï¼šæ˜“äºæ·»åŠ æ–°è¯­è¨€æ”¯æŒ

### ğŸ”„ **è¯­è¨€ç®¡ç†**
- [x] **åŠ¨æ€è·å–**ï¼šä»APIå®æ—¶è·å–æ”¯æŒçš„è¯­è¨€
- [x] **æ™ºèƒ½ç¼“å­˜**ï¼š24å°æ—¶ç¼“å­˜ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚
- [x] **ç”¨æˆ·åå¥½**ï¼šä¿å­˜é»˜è®¤æºè¯­è¨€å’Œç›®æ ‡è¯­è¨€
- [x] **ä½¿ç”¨ç»Ÿè®¡**ï¼šè®°å½•è¯­è¨€ä½¿ç”¨é¢‘ç‡
- [x] **æ™ºèƒ½æ¨è**ï¼šåŸºäºå†å²æ¨èå¸¸ç”¨è¯­è¨€å¯¹

### ğŸ¨ **ç”¨æˆ·ä½“éªŒ**
- [x] **ç°ä»£åŒ–UI**ï¼šMaterial Designé£æ ¼
- [x] **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸
- [x] **æµç•…äº¤äº’**ï¼šåº•éƒ¨å¼¹çª—ã€æœç´¢è¿‡æ»¤
- [x] **åŠ è½½çŠ¶æ€**ï¼šæ¸…æ™°çš„åŠ è½½å’Œé”™è¯¯æç¤º
- [x] **æ— éšœç¢æ”¯æŒ**ï¼šå®Œæ•´çš„å†…å®¹æè¿°

### ğŸ—ï¸ **æ¶æ„è´¨é‡**
- [x] **Clean Architecture**ï¼šæ¸…æ™°çš„åˆ†å±‚æ¶æ„
- [x] **MVVMæ¨¡å¼**ï¼šå“åº”å¼UIï¼Œæ•°æ®é©±åŠ¨
- [x] **Repositoryæ¨¡å¼**ï¼šç»Ÿä¸€æ•°æ®è®¿é—®
- [x] **ä¾èµ–æ³¨å…¥**ï¼šæ‰‹åŠ¨DIå®ç°
- [x] **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- [x] **ç±»å‹å®‰å…¨**ï¼šå……åˆ†åˆ©ç”¨Kotlinç±»å‹ç³»ç»Ÿ

## ğŸ“ **æŠ€æœ¯å­¦ä¹ ä»·å€¼**

### **æ¶æ„è®¾è®¡æ¨¡å¼**
1. **Clean Architecture**ï¼šä¾èµ–å€’ç½®ï¼Œåˆ†å±‚æ¸…æ™°
2. **MVVM**ï¼šæ•°æ®é©±åŠ¨UIï¼Œå“åº”å¼ç¼–ç¨‹
3. **Repository**ï¼šæ•°æ®è®¿é—®æŠ½è±¡ï¼Œæ”¯æŒå¤šæ•°æ®æº
4. **UseCase**ï¼šä¸šåŠ¡é€»è¾‘å°è£…ï¼Œä¾¿äºæµ‹è¯•
5. **Factory**ï¼šä¾èµ–æ³¨å…¥ï¼Œç»Ÿä¸€å¯¹è±¡åˆ›å»º

### **Androidæœ€ä½³å®è·µ**
1. **ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šViewModelä¸Fragmentæ­£ç¡®ç»‘å®š
2. **å†…å­˜ç®¡ç†**ï¼šä½¿ç”¨Application Contexté¿å…æ³„æ¼
3. **æ•°æ®æŒä¹…åŒ–**ï¼šSharedPreferenceså­˜å‚¨ç”¨æˆ·åå¥½
4. **å›½é™…åŒ–æ”¯æŒ**ï¼šå®Œæ•´çš„å¤šè¯­è¨€é€‚é…æ–¹æ¡ˆ
5. **æ€§èƒ½ä¼˜åŒ–**ï¼šç¼“å­˜æœºåˆ¶ã€æ‡’åŠ è½½ã€æ‰¹é‡æ“ä½œ

---

**ğŸ‰ é¡¹ç›®æ€»ç»“**ï¼šè¿™æ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„Androidç¿»è¯‘åº”ç”¨ï¼Œå±•ç¤ºäº†ç°ä»£Androidå¼€å‘çš„æœ€ä½³å®è·µï¼ŒåŒ…æ‹¬Clean Architectureã€MVVMæ¨¡å¼ã€å›½é™…åŒ–æ”¯æŒã€å“åº”å¼ç¼–ç¨‹ç­‰æ ¸å¿ƒæŠ€æœ¯ã€‚ä»£ç è´¨é‡é«˜ï¼Œæ¶æ„æ¸…æ™°ï¼Œå…·æœ‰å¾ˆå¼ºçš„å­¦ä¹ å’Œå‚è€ƒä»·å€¼ã€‚
