<?xml version="1.0" encoding="utf-8"?>
<!--
文本翻译Fragment布局设计思想：

1. 布局结构：
   - ScrollView：支持内容滚动，适配不同屏幕尺寸
   - LinearLayout：垂直排列，逻辑清晰
   - CardView：卡片式设计，现代化UI风格

2. 用户体验考虑：
   - 语言选择在顶部：用户首先需要设置语言
   - 输入框足够大：方便输入长文本
   - 翻译按钮突出：主要操作按钮
   - 结果区域清晰：便于阅读翻译结果

3. 视觉设计：
   - 卡片阴影：增加层次感
   - 圆角设计：现代化风格
   - 颜色搭配：主色调统一
-->
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F5F5"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <!--
        语言选择区域
        设计思想：
        - 卡片式设计：突出重要性
        - 水平布局：源语言 ⇄ 目标语言
        - 交换按钮：方便反向翻译
        -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="@android:color/white">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:padding="16dp"
                android:gravity="center_vertical">

                <!-- 源语言选择 -->
                <LinearLayout
                    android:id="@+id/layoutSourceLanguage"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:background="?android:attr/selectableItemBackground"
                    android:padding="8dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="源语言"
                        android:textSize="12sp"
                        android:textColor="#666666" />

                    <TextView
                        android:id="@+id/tvSourceLanguage"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="自动检测"
                        android:textSize="16sp"
                        android:textColor="#333333"
                        android:textStyle="bold"
                        android:layout_marginTop="4dp"
                        tools:text="中文" />

                </LinearLayout>

                <!-- 语言交换按钮 -->
                <ImageView
                    android:id="@+id/btnSwapLanguages"
                    android:layout_width="40dp"
                    android:layout_height="40dp"
                    android:src="@android:drawable/ic_menu_revert"
                    android:background="?android:attr/selectableItemBackgroundBorderless"
                    android:padding="8dp"
                    android:contentDescription="交换语言"
                    app:tint="#2196F3" />

                <!-- 目标语言选择 -->
                <LinearLayout
                    android:id="@+id/layoutTargetLanguage"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:background="?android:attr/selectableItemBackground"
                    android:padding="8dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="目标语言"
                        android:textSize="12sp"
                        android:textColor="#666666" />

                    <TextView
                        android:id="@+id/tvTargetLanguage"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="英语"
                        android:textSize="16sp"
                        android:textColor="#333333"
                        android:textStyle="bold"
                        android:layout_marginTop="4dp"
                        tools:text="English" />

                </LinearLayout>

            </LinearLayout>

        </androidx.cardview.widget.CardView>

        <!--
        输入区域
        设计思想：
        - 大输入框：支持长文本输入
        - 字数统计：帮助用户了解输入长度
        - 清除按钮：快速清空输入
        -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="@android:color/white">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical">

                <!-- 输入框标题栏 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:padding="16dp"
                    android:paddingBottom="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="请输入要翻译的文本"
                        android:textSize="14sp"
                        android:textColor="#666666" />

                    <TextView
                        android:id="@+id/tvCharCount"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="0/5000"
                        android:textSize="12sp"
                        android:textColor="#999999" />

                </LinearLayout>

                <!-- 输入框 -->
                <EditText
                    android:id="@+id/etInputText"
                    android:layout_width="match_parent"
                    android:layout_height="120dp"
                    android:layout_marginHorizontal="16dp"
                    android:layout_marginBottom="8dp"
                    android:background="@null"
                    android:gravity="top|start"
                    android:hint="在此输入文本..."
                    android:inputType="textMultiLine"
                    android:maxLength="5000"
                    android:padding="0dp"
                    android:textSize="16sp"
                    android:textColor="#333333"
                    android:textColorHint="#CCCCCC" />

                <!-- 底部操作栏 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:padding="16dp"
                    android:paddingTop="8dp">

                    <View
                        android:layout_width="0dp"
                        android:layout_height="1dp"
                        android:layout_weight="1" />

                    <ImageView
                        android:id="@+id/btnClearInput"
                        android:layout_width="32dp"
                        android:layout_height="32dp"
                        android:src="@android:drawable/ic_menu_close_clear_cancel"
                        android:background="?android:attr/selectableItemBackgroundBorderless"
                        android:padding="6dp"
                        android:contentDescription="清除输入"
                        app:tint="#999999" />

                </LinearLayout>

            </LinearLayout>

        </androidx.cardview.widget.CardView>

        <!--
        翻译按钮
        设计思想：
        - 突出显示：使用主色调
        - 状态反馈：加载时显示进度
        - 全宽设计：易于点击
        -->
        <Button
            android:id="@+id/btnTranslate"
            android:layout_width="match_parent"
            android:layout_height="56dp"
            android:layout_marginBottom="16dp"
            android:background="@drawable/btn_primary_background"
            android:text="翻译"
            android:textColor="@android:color/white"
            android:textSize="18sp"
            android:textStyle="bold"
            android:elevation="4dp" />

        <!--
        翻译结果区域
        设计思想：
        - 条件显示：只在有结果时显示
        - 操作便利：支持复制、分享
        - 状态区分：成功、失败、加载状态
        -->
        <androidx.cardview.widget.CardView
            android:id="@+id/cardResult"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="gone"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="@android:color/white"
            tools:visibility="visible">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical">

                <!-- 结果标题栏 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:padding="16dp"
                    android:paddingBottom="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="翻译结果"
                        android:textSize="14sp"
                        android:textColor="#666666" />

                    <ImageView
                        android:id="@+id/btnCopyResult"
                        android:layout_width="32dp"
                        android:layout_height="32dp"
                        android:src="@android:drawable/ic_menu_save"
                        android:background="?android:attr/selectableItemBackgroundBorderless"
                        android:padding="6dp"
                        android:contentDescription="复制结果"
                        android:layout_marginEnd="8dp"
                        app:tint="#2196F3" />

                    <ImageView
                        android:id="@+id/btnShareResult"
                        android:layout_width="32dp"
                        android:layout_height="32dp"
                        android:src="@android:drawable/ic_menu_share"
                        android:background="?android:attr/selectableItemBackgroundBorderless"
                        android:padding="6dp"
                        android:contentDescription="分享结果"
                        app:tint="#2196F3" />

                </LinearLayout>

                <!-- 结果内容 -->
                <FrameLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginHorizontal="16dp"
                    android:layout_marginBottom="16dp"
                    android:minHeight="80dp">

                    <!-- 翻译结果文本 -->
                    <TextView
                        android:id="@+id/tvResult"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:textSize="16sp"
                        android:textColor="#333333"
                        android:lineSpacingExtra="4dp"
                        android:textIsSelectable="true"
                        tools:text="Hello, this is a translation result." />

                    <!-- 加载进度 -->
                    <ProgressBar
                        android:id="@+id/progressBar"
                        android:layout_width="32dp"
                        android:layout_height="32dp"
                        android:layout_gravity="center"
                        android:visibility="gone"
                        tools:visibility="visible" />

                    <!-- 错误信息 -->
                    <LinearLayout
                        android:id="@+id/layoutError"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center"
                        android:orientation="vertical"
                        android:gravity="center"
                        android:visibility="gone"
                        tools:visibility="gone">

                        <ImageView
                            android:layout_width="48dp"
                            android:layout_height="48dp"
                            android:src="@android:drawable/ic_dialog_alert"
                            android:layout_marginBottom="8dp"
                            app:tint="#FF5722" />

                        <TextView
                            android:id="@+id/tvError"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="翻译失败，请重试"
                            android:textSize="14sp"
                            android:textColor="#FF5722"
                            android:gravity="center"
                            tools:text="网络连接失败" />

                    </LinearLayout>

                </FrameLayout>

            </LinearLayout>

        </androidx.cardview.widget.CardView>

    </LinearLayout>

</ScrollView>